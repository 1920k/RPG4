<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Jogo de Tabuleiro ‚Äî Semin√°rio: Jogos Tradicionais</title>
  <style>
    :root{--cell:64px;--gap:6px;--bg:#0b1220;--card:#0f1724;--accent:#16a34a}
    *{box-sizing:border-box;font-family:Inter,system-ui,Segoe UI,Roboto,Arial}
    body{margin:0;min-height:100vh;background:linear-gradient(180deg,#081226 0%,#0b1726 100%);color:#e6eef8;display:flex;align-items:center;justify-content:center;padding:24px}
    .container{width:980px;max-width:100%;display:grid;grid-template-columns:1fr 360px;gap:20px}
    .board-card{background:linear-gradient(180deg,#071427,#0d2233);padding:18px;border-radius:12px;box-shadow:0 8px 30px rgba(2,6,23,0.6)}
    .board{display:grid;grid-template-columns:repeat(5, var(--cell));grid-template-rows:repeat(5, var(--cell));gap:var(--gap);justify-content:center}
    .cell{width:var(--cell);height:var(--cell);border-radius:8px;background:linear-gradient(180deg,#0b2b3a,#05323f);display:flex;align-items:center;justify-content:center;color:#dff3ea;font-weight:600;position:relative;padding:6px;text-align:center}
    .cell .idx{position:absolute;top:6px;left:8px;font-size:10px;opacity:.6}
    .cell.special{background:linear-gradient(180deg,#3b2b7a,#6a4bd6);font-size:12px}
    .cell.slide{background:linear-gradient(180deg,#2b6cb0,#4299e1)}
    .controls{display:flex;flex-direction:column;gap:12px}
    .card{background:linear-gradient(180deg,#071427,#0a1b2b);padding:12px;border-radius:10px}
    button{cursor:pointer;padding:10px 12px;border-radius:8px;border:0;background:#162a3a;color:#e7f5fb;font-weight:700}
    .btn-primary{background:var(--accent);color:#05220a}
    .players{display:flex;gap:8px}
    .player{padding:8px;border-radius:8px;flex:1;background:rgba(255,255,255,0.03)}
    .token{width:28px;height:28px;border-radius:50%;display:inline-block;vertical-align:middle}
    .p1{background:#f97316}
    .p2{background:#06b6d4}
    .dice{font-size:28px;font-weight:900}
    .log{max-height:180px;overflow:auto;font-size:13px;padding:8px;background:rgba(255,255,255,0.02);border-radius:6px}
    .modal{position:fixed;left:0;top:0;width:100%;height:100%;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,0.6);z-index:50}
    .modal .box{background:#071427;padding:18px;border-radius:10px;width:420px;max-width:92%}
    .footer{margin-top:10px;font-size:13px;opacity:.8}
    .score{font-weight:800;font-size:20px}
    @media(max-width:880px){.container{grid-template-columns:1fr;grid-auto-rows:auto}}
  </style>
</head>
<body>
  <div class="container">
    <div class="board-card">
      <h2>Jogo de Tabuleiro: Semin√°rio sobre Jogos Tradicionais</h2>
      <p style="margin-top:6px;opacity:.8">Tema: <strong>Jogos Tradicionais ‚Äì O Movimento como Constru√ß√£o Hist√≥rico-Cultural</strong> ‚Äî objetivo: revisar conceitos do semin√°rio e praticar apresenta√ß√£o coletiva.</p>

      <div style="display:flex;gap:12px;margin-top:12px;align-items:center">
        <div style="width:fit-content">
          <div class="board" id="board"></div>
        </div>
        <div style="flex:1"></div>
      </div>

      <div class="footer">Casas especiais: <span style="color:#ffd166">Desafio</span> (responder pergunta), <span style="color:#ef476f">Obst√°culo</span> (perda de pontos/volta), <span style="color:#ffd54f">Vez de Apresentador</span> (explique um slide).</div>
    </div>

    <div class="card controls">
      <div class="card">
        <div style="display:flex;align-items:center;justify-content:space-between">
          <div>
            <div style="font-size:13px;opacity:.8">Jogador atual</div>
            <div id="currentPlayer" style="font-weight:800;margin-top:4px">Jogador 1 <span class="token p1"></span></div>
          </div>
          <div style="text-align:right">
            <div class="dice" id="diceFace">‚Äî</div>
            <div style="font-size:12px;opacity:.7">Dado</div>
          </div>
        </div>
        <hr style="margin:12px 0;border:none;border-top:1px solid rgba(255,255,255,0.04)" />
        <div style="display:flex;gap:8px">
          <button id="btnRoll" class="btn-primary">Rolar Dado</button>
          <button id="btnEnd" >Encerrar Jogo</button>
        </div>
      </div>

      <div class="card" style="margin-top:10px">
        <div style="display:flex;gap:8px;align-items:center;justify-content:space-between">
          <div>
            <div style="font-size:13px;opacity:.8">Jogadores</div>
            <div class="players" style="margin-top:8px">
              <div class="player">
                <div style="font-weight:700">Jogador 1 <span class="token p1"></span> ‚Äî <span class="score" id="score1">0</span> pts</div>
                <div id="pos1">Posi√ß√£o: 1</div>
              </div>
              <div class="player">
                <div style="font-weight:700">Jogador 2 <span class="token p2"></span> ‚Äî <span class="score" id="score2">0</span> pts</div>
                <div id="pos2">Posi√ß√£o: 1</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="card" style="margin-top:10px">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div style="font-size:13px;opacity:.8">Registro</div>
          <button id="btnReset">Reiniciar</button>
        </div>
        <div class="log" id="log" style="margin-top:8px">Bem-vindo! Clique em <b>Rolar Dado</b> para come√ßar. Ao cair em uma casa especial, siga as instru√ß√µes e tente relacionar com o semin√°rio.</div>
      </div>
    </div>
  </div>

  <!-- Modal para desafios / perguntas -->
  <div class="modal" id="modal">
    <div class="box">
      <div id="modalContent"></div>
      <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
        <button id="btnWrong">Errado</button>
        <button id="btnRight" class="btn-primary">Certo</button>
      </div>
    </div>
  </div>

  <script>
    const boardEl = document.getElementById('board');
    const diceFace = document.getElementById('diceFace');
    const btnRoll = document.getElementById('btnRoll');
    const btnReset = document.getElementById('btnReset');
    const btnEnd = document.getElementById('btnEnd');
    const logEl = document.getElementById('log');
    const currentPlayerEl = document.getElementById('currentPlayer');
    const pos1El = document.getElementById('pos1');
    const pos2El = document.getElementById('pos2');
    const score1El = document.getElementById('score1');
    const score2El = document.getElementById('score2');
    const modal = document.getElementById('modal');
    const modalContent = document.getElementById('modalContent');
    const btnRight = document.getElementById('btnRight');
    const btnWrong = document.getElementById('btnWrong');

    const size = 5; // 5x5 -> 25 casas
    const total = size*size;

    // Casas especiais: algumas s√£o 'slide' (1-3 capa/intro etc) para tarefas de apresenta√ß√£o
    const special = {
      3: {type:'challenge',value:2},         // pergunta - +2 pts se certo
      6: {type:'obstacle',value:1},          // perde 1 casa
      8: {type:'slide',slide:2},             // explique slide 2 (Introdu√ß√£o)
      10:{type:'challenge',value:3},
      13:{type:'slide',slide:4},             // explique slide 4 (Exemplos)
      15:{type:'skip'},                      // pule vez
      18:{type:'challenge',value:2},
      20:{type:'obstacle',value:2},
      22:{type:'slide',slide:7},             // explique slide 7 (Benef√≠cios/Desafios)
      25:{type:'finish'}
    };

    // Banco de perguntas relacionadas ao semin√°rio
    const questions = [
      {q:'Cite dois exemplos de jogos tradicionais mencionados no roteiro.', a:'amarelinha, bola de gude, peteca', pts:2},
      {q:'Explique brevemente como cultura e movimento corporal se relacionam.', a:'pr√°ticas, valores e cren√ßas moldam formas de mover e brincar', pts:3},
      {q:'Qual √© um desafio atual para manter jogos tradicionais nas cidades?', a:'espa√ßo urbano limitado / menos brincadeiras de rua', pts:2},
      {q:'D√™ um exemplo de como a coloniza√ß√£o impactou jogos locais.', a:'introdu√ß√£o de novos costumes, proibi√ß√£o ou mistura cultural', pts:3},
      {q:'Cite um benef√≠cio dos jogos tradicionais na escola.', a:'socializa√ß√£o / inclus√£o / sa√∫de', pts:2}
    ];

    for(let i=1;i<=total;i++){
      const d = document.createElement('div');
      d.className='cell'+(special[i]? ' special':'');
      if(special[i] && special[i].type==='slide') d.className+=' slide';
      d.id = 'c'+i;
      let label = i===total? 'üèÅ Fim': i;
      d.innerHTML = `<span class="idx">${i}</span><div style="pointer-events:none">${label}</div>`;
      if(special[i]){
        const s = document.createElement('div');
        s.style.position='absolute';s.style.bottom='6px';s.style.right='6px';s.style.fontSize='11px';s.style.opacity=.95;
        if(special[i].type==='challenge') s.textContent = 'Desafio';
        else if(special[i].type==='obstacle') s.textContent = 'Obst√°culo';
        else if(special[i].type==='skip') s.textContent = 'Pule vez';
        else if(special[i].type==='slide') s.textContent = 'Apresente (slide '+special[i].slide+')';
        d.appendChild(s);
      }
      boardEl.appendChild(d);
    }

    let state = {current:1,pos:[1,1],skip:[false,false],finished:false,score:[0,0]};

    function log(txt){const p=document.createElement('div');p.innerHTML=txt;logEl.prepend(p);}

    function updateBoard(){
      for(let i=1;i<=total;i++){const el=document.getElementById('c'+i);el.querySelectorAll('.token').forEach(t=>t.remove());}
      const t1=document.createElement('span');t1.className='token p1';
      const t2=document.createElement('span');t2.className='token p2';
      document.getElementById('c'+state.pos[0]).appendChild(t1);
      document.getElementById('c'+state.pos[1]).appendChild(t2);
      pos1El.textContent='Posi√ß√£o: '+state.pos[0];
      pos2El.textContent='Posi√ß√£o: '+state.pos[1];
      currentPlayerEl.innerHTML = `Jogador ${state.current} <span class="token ${state.current===1? 'p1':'p2'}"></span>`;
      score1El.textContent = state.score[0];
      score2El.textContent = state.score[1];
    }

    function openModal(html){modalContent.innerHTML = html;modal.style.display='flex';}
    function closeModal(){modal.style.display='none';}

    function askChallenge(idx){
      const q = questions[Math.floor(Math.random()*questions.length)];
      openModal(`<div style="font-weight:800">Desafio</div><div style="margin-top:8px">${q.q}</div><div style="margin-top:8px;font-size:12px;opacity:.8">Responda em voz; clique <strong>Certo</strong> se a resposta estiver adequada (autoavalia√ß√£o).</div>`);
      btnRight.onclick = ()=>{ state.score[state.current-1] += q.pts; log(`Jogador ${state.current} acertou e ganhou ${q.pts} pts.`); closeModal(); updateBoard(); nextTurn(); };
      btnWrong.onclick = ()=>{ log(`Jogador ${state.current} errou.`); closeModal(); nextTurn(); };
    }

    function slideTask(slide){
      openModal(`<div style="font-weight:800">Tarefa de Apresenta√ß√£o ‚Äî Slide ${slide}</div>
                 <div style="margin-top:8px">O jogador deve explicar em 30s o conte√∫do do slide ${slide} (use o roteiro). Se a equipe concordar que foi relevante, clique <strong>Certo</strong> para ganhar 3 pts.</div>`);
      btnRight.onclick = ()=>{ state.score[state.current-1] += 3; log(`Jogador ${state.current} apresentou o Slide ${slide} e ganhou 3 pts.`); closeModal(); updateBoard(); nextTurn(); };
      btnWrong.onclick = ()=>{ log(`Apresenta√ß√£o do Slide ${slide} n√£o pontuada.`); closeModal(); nextTurn(); };
    }

    function handleSpecial(pos){
      const sp = special[pos];
      if(!sp) return false;
      if(sp.type==='challenge'){ askChallenge(pos); return true; }
      if(sp.type==='obstacle'){ state.pos[state.current-1] = Math.max(1, state.pos[state.current-1]-sp.value); log(`Obst√°culo: volte ${sp.value} casas.`); updateBoard(); return false; }
      if(sp.type==='skip'){ state.skip[state.current-1]=true; log('Voc√™ deve pular a pr√≥xima vez.'); return false; }
      if(sp.type==='slide'){ slideTask(sp.slide); return true; }
      if(sp.type==='finish'){ state.finished=true; log(`<b>Jogador ${state.current} venceu! üèÜ</b>`); return false; }
      return false;
    }

    function nextTurn(){ if(state.finished) return; state.current = state.current===1?2:1; updateBoard(); }

    function rollDice(){ if(state.finished) return; const pIdx = state.current-1; if(state.skip[pIdx]){ log(`<b>Jogador ${state.current}</b> pulou a vez.`); state.skip[pIdx]=false; nextTurn(); return; } const r = Math.floor(Math.random()*6)+1; diceFace.textContent = r; log(`<b>Jogador ${state.current}</b> rolou <b>${r}</b>.`); let newPos = state.pos[pIdx] + r; if(newPos>total) newPos = total; state.pos[pIdx] = newPos; updateBoard(); // verifica especial
      const handled = handleSpecial(newPos);
      if(!handled){ // se n√£o abriu modal que espera resposta
        // checar vit√≥ria
        if(state.pos[pIdx]===total){ state.finished=true; log(`<b>Jogador ${state.current} venceu! üèÜ</b>`); diceFace.textContent='‚Äî'; return; }
        nextTurn();
      }
    }

    btnRoll.addEventListener('click',()=> rollDice());
    btnReset.addEventListener('click',()=>{ state = {current:1,pos:[1,1],skip:[false,false],finished:false,score:[0,0]}; diceFace.textContent='‚Äî'; log('Jogo reiniciado.'); updateBoard(); });
    btnEnd.addEventListener('click',()=>{ state.finished=true;log('Jogo encerrado manualmente.'); });
    document.getElementById('modal').addEventListener('click',(e)=>{ if(e.target===modal) closeModal(); });

    updateBoard();
  </script>
</body>
</html>
